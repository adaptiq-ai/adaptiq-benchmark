{
  "original_prompt_index": 0,
  "adaptiq_used_prompt_index": 0,
  "gpt_used_prompt_index": 1,
  "initial_prompts": [
    {
      "original_prompt": "Given a natural language description of an image or scene, your task is to convert it into a highly-optimized, one-line prompt for a Stable Diffusion model. First, locate the `image_path` provided and use it to extract the image description. After retrieving the image description, generate a highly detailed, visually rich one-line prompt. Once the description is generated, validate it to ensure it does not contain any inappropriate or sensitive content. The final prompt must: - Include a **clearly defined subject** - Capture the **environmental context** (e.g., foggy forest, neon-lit alley, candlelit library) - Reference **lighting or camera techniques** (e.g., volumetric light, soft focus, ultra-wide angle) - Mention the **artistic style or medium** (e.g., digital painting, concept art, watercolor, cyberpunk) - Optionally include **famous artist references** for better stylistic alignment (e.g., by Artgerm, Ghibli, Loish, Moebius) Avoid: - Repeating adjectives - Generic phrases like “beautiful” or “cool” - Camera brand names or model-specific jargon - Abstract or subjective terms not visually actionable Ensure the final output is syntactically tight, visual-heavy, and directly compatible with Stable Diffusion, SDXL, or Midjourney. image_name: {image_name}",
      "feedback": ""
    }
  ],
  "prompts": [
    {
      "agent_prompt_type": "adaptiq",
      "prompt": "Given an {image_name}, your task is to generate a highly-optimized, one-line prompt suitable for Stable Diffusion, SDXL, or Midjourney. Workflow: 1. Use ONLY the PathFinderTool with {image_name} to retrieve the local image file path. If the path cannot be found, output: \"Error: Image path not found for {image_name}.\" 2. Extract a detailed, visually rich description of the image using DescribeImageTool or PGImageTool with the located path. If the description is missing or insufficient, attempt the alternative tool once. If both fail, output: \"Error: Unable to extract a detailed image description for {image_name}.\" 3. Synthesize a single, syntactically tight prompt based on the description, ensuring the following requirements are met: - Clearly define the main subject. - Specify the environmental context (e.g., foggy forest, neon-lit alley, candlelit library). - Reference lighting or camera techniques (e.g., volumetric light, soft focus, ultra-wide angle). - Mention the artistic style or medium (e.g., digital painting, concept art, watercolor, cyberpunk). - Optionally include well-known artist references (e.g., by Artgerm, Ghibli, Loish, Moebius) if relevant. - Avoid repeating adjectives, generic terms (e.g., “beautiful”, “cool”), camera brand/model names, and non-visual/abstract language. - Ensure the prompt is concise, clear, and suitable for direct use in image generation. 4. Validate the generated prompt using PromptValidationTool: - Check for inappropriate, sensitive, or filter-triggering content (e.g., adult, violent, hateful, or otherwise NSFW themes). - If detected, automatically rewrite any sensitive elements to neutral or safe alternatives. - If the prompt cannot be validated or made safe, output: \"Error: Unable to generate a safe prompt for {image_name}.\" 5. Output ONLY the final, validated one-line prompt, ready for direct use in image generation. Do not include any intermediate steps, tool outputs, or explanations. Notes: - If any step fails, output the corresponding error message and halt further processing."
    },
    {
      "agent_prompt_type": "gpt",
      "prompt": "Given a natural language description of an image or scene, your task is to convert it into a highly-optimized, one-line prompt for a Stable Diffusion model. First, use the PathFinderTool to locate the correct local image path from the given image name. Then, apply the DescribeImageTool on the local image path to generate a detailed visual description. Optionally, check the PGImageTool to find any previously saved descriptions for the image path. After retrieving the image description, generate a highly detailed, visually rich one-line prompt. Next, use the PromptValidationTool to validate the prompt and rewrite any sensitive content to avoid generation filters. The final prompt must: - Include a **clearly defined subject** - Capture the **environmental context** (e.g., foggy forest, neon-lit alley, candlelit library) - Reference **lighting or camera techniques** (e.g., volumetric light, soft focus, ultra-wide angle) - Mention the **artistic style or medium** (e.g., digital painting, concept art, watercolor, cyberpunk) - Optionally include **famous artist references** for better stylistic alignment (e.g., by Artgerm, Ghibli, Loish, Moebius) Avoid: - Repeating adjectives - Generic phrases like “beautiful” or “cool” - Camera brand names or model-specific jargon - Abstract or subjective terms not visually actionable Ensure the final output is syntactically tight, visual-heavy, and directly compatible with Stable Diffusion, SDXL, or Midjourney. image_name: {image_name}"
 
    }
  ]
}
